{% extends 'dashboard/index-1.htm' %}

{% block style %}
<!-- Favicon icon -->
    <link rel="icon" href="{{url_for('static',filename='./files/assets/images/logo_sib-icon.png')}}" type="image/x-icon">
    <!-- Google font-->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600" rel="stylesheet">
    <!-- Required Fremwork -->
    <link rel="stylesheet" type="text/css" href="{{url_for('static',filename='./files/bower_components/bootstrap/css/bootstrap.min.css')}}">
    <!-- themify-icons line icon -->
    <link rel="stylesheet" type="text/css" href="{{url_for('static',filename='./files/assets/icon/themify-icons/themify-icons.css')}}">
    <!-- ico font -->
    <link rel="stylesheet" type="text/css" href="{{url_for('static',filename='./files/assets/icon/icofont/css/icofont.css')}}">
    <!-- feather Awesome -->
    <link rel="stylesheet" type="text/css" href="{{url_for('static',filename='./files/assets/icon/feather/css/feather.css')}}">
    <link rel="stylesheet" type="text/css" href="{{url_for('static',filename='./files/assets/icon/ion-icon/css/ionicons.min.css')}}">
    <!-- Data Table Css -->
    <link rel="stylesheet" type="text/css" href="{{url_for('static',filename='./files/bower_components/datatables.net-bs4/css/dataTables.bootstrap4.min.css')}}">
    <link rel="stylesheet" type="text/css" href="{{url_for('static',filename='./files/assets/pages/data-table/css/buttons.dataTables.min.css')}}">
    <link rel="stylesheet" type="text/css" href="{{url_for('static',filename='./files/bower_components/datatables.net-responsive-bs4/css/responsive.bootstrap4.min.css')}}">
    <link rel="stylesheet" type="text/css" href="{{url_for('static',filename='./files/assets/pages/data-table/extensions/buttons/css/buttons.dataTables.min.css')}}">
    <!-- Style.css -->
    <link rel="stylesheet" type="text/css" href="{{url_for('static',filename='./files/assets/css/style.css')}}">
    <link rel="stylesheet" type="text/css" href="{{url_for('static',filename='./files/assets/css/jquery.mCustomScrollbar.css')}}">

{% endblock %}

{% block content %}
 <!-- Page-header start -->
    <div class="page-header">
        <div class="row align-items-end">
            <div class="col-lg-8">
                <div class="page-header-title">
                    <div class="d-inline">
                        <h4>Users List</h4>
                        <!-- <span>Styling to display buttons on a page</span> -->
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="page-header-breadcrumb">
                    <ul class="breadcrumb-title">
                        <li class="breadcrumb-item">
                            <a href="{{url_for('dashboard')}}"> <i class="feather icon-home"></i> </a>
                        </li>
                        <li class="breadcrumb-item"><a href="{{url_for('dashboard')}}">Users</a>
                        </li>
                        <li class="breadcrumb-item"><a href="{{url_for('indexUser')}}">Users List</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    {% for category, message in messages %}
    <div class="col-sm-12 col-md-12 col-xl-12">
        <div class="alert alert-{{ category }} background-{{ category }}">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <i class="icofont icofont-close-line-circled text-white"></i>
            </button>
            {{ message }}
        </div>
    </div>
    {% endfor %}
    {% endif %}
    {% endwith %}
    <!-- Page-header end -->
    <!-- Page-body start -->
    <div class="page-body">
        <div class="row">
            <div class="col-sm-12">
                <!-- HTML5 Export Buttons table start -->
                <div class="card">
                    <div class="card-header table-card-header">
                        <h5>Export data</h5>
                    </div>
                    <div class="card-block">
                        <div class="dt-responsive table-responsive">
                            <table id="basic-btn" class="table table-striped table-bordered nowrap">
                                <thead>
                                    <tr>
                                        <th>Pic</th>
                                        <th>Name</th>
                                        <th>Email</th>
                                        <th>Phone</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                {% for user in users %}

                                <tr>
                                <td> <img src="{{url_for('static',filename='./UserAvatar/'+ user['avatar'] )}}" width="15%" height="15%" > </td>
                                <td>{{user['name']}}</td>
                                <td>{{user['email']}}</td>
                                <td>{{user['telephone']}}</td>
                                <td text-align="align-items-center" >
                                    <a href="{{ url_for('editUser', id=user['id']) }}">
                                        <button class="btn btn-success mr-2" title="Modifier"><i class="ion-edit"></i></button>
                                    </a>
                                    <a href="{{ url_for('deleteUser', id=user['id']) }}">
                                        <button class="btn btn-danger" title="Supprimer" onclick="return ConfirmDelete();" ><i class="ion-trash-a"></i></button>
                                    </a>
                                </td>
                                </tr>
                                {% endfor %}

                        </tbody>
                                <tfoot>
                                    <tr>
                                        <th>Pic</th>
                                        <th>Name</th>
                                        <th>Email</th>
                                        <th>Phone</th>
                                        <th>Actions</th>
                                    </tr>
                                </tfoot>
                            </table>
                        </div>
                    </div>
                </div>
                <!-- HTML5 Export Buttons end -->
            </div>
        </div>
    </div>
    <!-- Page-body end -->
{% endblock %}

{% block script %}
    <!-- EXPORT DATA Start -->
    <!-- Required Jquery -->
    <script>
    function ConfirmDelete()
    {
      return confirm("Are you sure you want to delete?");
    }
    </script>
    <script type="text/javascript" src="{{url_for('static',filename='./files/bower_components/jquery/js/jquery.min.js')}}"></script>
    <script type="text/javascript" src="{{url_for('static',filename='./files/bower_components/jquery-ui/js/jquery-ui.min.js')}}"></script>
    <script type="text/javascript" src="{{url_for('static',filename='./files/bower_components/popper.js/js/popper.min.js')}}"></script>
    <script type="text/javascript" src="{{url_for('static',filename='./files/bower_components/bootstrap/js/bootstrap.min.js')}}"></script>
    <!-- jquery slimscroll js -->
    <script type="text/javascript" src="{{url_for('static',filename='./files/bower_components/jquery-slimscroll/js/jquery.slimscroll.js')}}"></script>
    <!-- modernizr js -->
    <script type="text/javascript" src="{{url_for('static',filename='./files/bower_components/modernizr/js/modernizr.js')}}"></script>
    <script type="text/javascript" src="{{url_for('static',filename='./files/bower_components/modernizr/js/css-scrollbars.js')}}"></script>
    <!-- data-table js -->
    <script src="{{url_for('static',filename='./files/bower_components/datatables.net/js/jquery.dataTables.min.js')}}"></script>
    <script src="{{url_for('static',filename='./files/bower_components/datatables.net-buttons/js/dataTables.buttons.min.js')}}"></script>
    <script src="{{url_for('static',filename='./files/assets/pages/data-table/js/jszip.min.js')}}"></script>
    <script src="{{url_for('static',filename='./files/assets/pages/data-table/js/pdfmake.min.js')}}"></script>
    <script src="{{url_for('static',filename='./files/assets/pages/data-table/js/vfs_fonts.js')}}"></script>
    <script src="{{url_for('static',filename='./files/assets/pages/data-table/extensions/buttons/js/dataTables.buttons.min.js')}}"></script>
    <script src="{{url_for('static',filename='./files/assets/pages/data-table/extensions/buttons/js/buttons.flash.min.js')}}"></script>
    <script src="{{url_for('static',filename='./files/assets/pages/data-table/extensions/buttons/js/jszip.min.js')}}"></script>
    <script src="{{url_for('static',filename='./files/assets/pages/data-table/extensions/buttons/js/vfs_fonts.js')}}"></script>
    <script src="{{url_for('static',filename='./files/assets/pages/data-table/extensions/buttons/js/buttons.colVis.min.js')}}"></script>
    <script src="{{url_for('static',filename='./files/bower_components/datatables.net-buttons/js/buttons.print.min.js')}}"></script>
    <script src="{{url_for('static',filename='./files/bower_components/datatables.net-buttons/js/buttons.html5.min.js')}}"></script>
    <script src="{{url_for('static',filename='./files/bower_components/datatables.net-bs4/js/dataTables.bootstrap4.min.js')}}"></script>
    <script src="{{url_for('static',filename='./files/bower_components/datatables.net-responsive/js/dataTables.responsive.min.js')}}"></script>
    <script src="{{url_for('static',filename='./files/bower_components/datatables.net-responsive-bs4/js/responsive.bootstrap4.min.js')}}"></script>
    <!-- i18next.min.js -->
    <script type="text/javascript" src="{{url_for('static',filename='./files/bower_components/i18next/js/i18next.min.js')}}"></script>
    <script type="text/javascript" src="{{url_for('static',filename='./files/bower_components/i18next-xhr-backend/js/i18nextXHRBackend.min.js')}}"></script>
    <script type="text/javascript" src="{{url_for('static',filename='./files/bower_components/i18next-browser-languagedetector/js/i18nextBrowserLanguageDetector.min.js')}}"></script>
    <script type="text/javascript" src="{{url_for('static',filename='./files/bower_components/jquery-i18next/js/jquery-i18next.min.js')}}"></script>
    <!-- Custom js -->
    <script src="{{url_for('static',filename='./files/assets/pages/data-table/extensions/buttons/js/extension-btns-custom.js')}}"></script>
    <script src="{{url_for('static',filename='./files/assets/js/pcoded.min.js')}}"></script>
    <script src="{{url_for('static',filename='./files/assets/js/vartical-layout.min.js')}}"></script>
    <script src="{{url_for('static',filename='./files/assets/js/jquery.mCustomScrollbar.concat.min.js')}}"></script>
    <script type="text/javascript" src="{{url_for('static',filename='./files/assets/js/script.js')}}"></script>
    <!-- End EXPORT DATA  -->
{% endblock %}
